package backup_restore

import (
	"reflect"
	"testing"
)

func TestRun(t *testing.T) {
	br := new(BackupRestore)
	input := `{"dump": "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"}`

	result, err := br.Solve(input)
	expected := &Output{
		AliveSsns: []string{"792-90-8439", "620-98-8383", "683-95-2238", "125-19-8970", "485-31-7910", "687-73-7830", "795-93-9828", "857-37-6661", "847-33-3516", "450-29-5690", "343-60-4345", "248-80-0383", "406-79-3161", "422-12-1952", "191-07-3760", "245-69-5463", "031-34-8736", "028-41-1401", "858-74-2460"},
	}
	if err != nil || !reflect.DeepEqual(result, expected) {
		t.Fatalf(`Run("%s") = %+v, expected %+v`, input, result, expected)
	}
}
